"use strict";(self.webpackChunkAirbnbApp=self.webpackChunkAirbnbApp||[]).push([[561],{51561:function(e,n,t){t.d(n,{Z:function(){return W}});var o,r=t(4942),c=t(87462),a=t(72791),i=t(72492),l=t(81694),s=t.n(l),u=t(60732),f=t(72073),m=t(87309),d=t(2571),p=t(93486),C=t(69077),v=t(96096),g=t(29464),__rest=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t};(0,v.jD)()&&document.documentElement.addEventListener("click",(function getClickPosition(e){o={x:e.pageX,y:e.pageY},setTimeout((function(){o=null}),100)}),!0);var y=function Modal(e){var n,t=a.useContext(C.E_),l=t.getPopupContainer,v=t.getPrefixCls,y=t.direction,k=function handleCancel(n){var t=e.onCancel;null===t||void 0===t||t(n)},x=function handleOk(n){var t=e.onOk;null===t||void 0===t||t(n)},Z=function renderFooter(n){var t=e.okText,o=e.okType,r=e.cancelText,i=e.confirmLoading;return a.createElement(a.Fragment,null,a.createElement(m.Z,(0,c.Z)({onClick:k},e.cancelButtonProps),r||n.cancelText),a.createElement(m.Z,(0,c.Z)({},(0,d.n)(o),{loading:i,onClick:x},e.okButtonProps),t||n.okText))},b=e.prefixCls,h=e.footer,E=e.visible,w=e.wrapClassName,T=e.centered,P=e.getContainer,N=e.closeIcon,O=e.focusTriggerAfterClose,A=void 0===O||O,F=__rest(e,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),I=v("modal",b),S=v(),j=a.createElement(p.Z,{componentName:"Modal",defaultLocale:(0,f.A)()},Z),M=a.createElement("span",{className:"".concat(I,"-close-x")},N||a.createElement(u.Z,{className:"".concat(I,"-close-icon")})),R=s()(w,(n={},(0,r.Z)(n,"".concat(I,"-centered"),!!T),(0,r.Z)(n,"".concat(I,"-wrap-rtl"),"rtl"===y),n));return a.createElement(i.Z,(0,c.Z)({},F,{getContainer:void 0===P?l:P,prefixCls:I,wrapClassName:R,footer:void 0===h?j:h,visible:E,mousePosition:o,onClose:k,closeIcon:M,focusTriggerAfterClose:A,transitionName:(0,g.mL)(S,"zoom",e.transitionName),maskTransitionName:(0,g.mL)(S,"fade",e.maskTransitionName)}))};y.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var k=y,x=t(14699),Z=t(29966),b=t(68944),h=t(11532),E=t(35796),w=t(29439),T=t(98368);function isThenable(e){return!(!e||!e.then)}var P=function ActionButton(e){var n=a.useRef(!1),t=a.useRef(),o=(0,T.Z)(!1),r=(0,w.Z)(o,2),i=r[0],l=r[1];a.useEffect((function(){var n;if(e.autoFocus){var o=t.current;n=setTimeout((function(){return o.focus()}))}return function(){n&&clearTimeout(n)}}),[]);var s=e.type,u=e.children,f=e.prefixCls,p=e.buttonProps;return a.createElement(m.Z,(0,c.Z)({},(0,d.n)(s),{onClick:function onClick(t){var o=e.actionFn,r=e.close;if(!n.current)if(n.current=!0,o){var c;if(e.emitEvent){if(c=o(t),e.quitOnNullishReturnValue&&!isThenable(c))return n.current=!1,void r(t)}else if(o.length)c=o(r),n.current=!1;else if(!(c=o()))return void r();!function handlePromiseOnOk(t){var o=e.close;isThenable(t)&&(l(!0),t.then((function(){l(!1,!0),o.apply(void 0,arguments),n.current=!1}),(function(e){console.error(e),l(!1,!0),n.current=!1})))}(c)}else r()},loading:i,prefixCls:f},p,{ref:t}),u)},N=t(14824),O=t(94775),A=function ConfirmDialog(e){var n=e.icon,t=e.onCancel,o=e.onOk,c=e.close,i=e.zIndex,l=e.afterClose,u=e.visible,f=e.keyboard,m=e.centered,d=e.getContainer,p=e.maskStyle,C=e.okText,v=e.okButtonProps,y=e.cancelText,x=e.cancelButtonProps,Z=e.direction,b=e.prefixCls,h=e.wrapClassName,E=e.rootPrefixCls,w=e.iconPrefixCls,T=e.bodyStyle,A=e.closable,F=void 0!==A&&A,I=e.closeIcon,S=e.modalRender,j=e.focusTriggerAfterClose;(0,N.Z)(!("string"===typeof n&&n.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(n,"` at https://ant.design/components/icon"));var M=e.okType||"primary",R="".concat(b,"-confirm"),L=!("okCancel"in e)||e.okCancel,_=e.width||416,B=e.style||{},W=void 0===e.mask||e.mask,z=void 0!==e.maskClosable&&e.maskClosable,D=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),H=s()(R,"".concat(R,"-").concat(e.type),(0,r.Z)({},"".concat(R,"-rtl"),"rtl"===Z),e.className),q=L&&a.createElement(P,{actionFn:t,close:c,autoFocus:"cancel"===D,buttonProps:x,prefixCls:"".concat(E,"-btn")},y);return a.createElement(O.ZP,{prefixCls:E,iconPrefixCls:w,direction:Z},a.createElement(k,{prefixCls:b,className:H,wrapClassName:s()((0,r.Z)({},"".concat(R,"-centered"),!!e.centered),h),onCancel:function onCancel(){return c({triggerCancel:!0})},visible:u,title:"",footer:"",transitionName:(0,g.mL)(E,"zoom",e.transitionName),maskTransitionName:(0,g.mL)(E,"fade",e.maskTransitionName),mask:W,maskClosable:z,maskStyle:p,style:B,bodyStyle:T,width:_,zIndex:i,afterClose:l,keyboard:f,centered:m,getContainer:d,closable:F,closeIcon:I,modalRender:S,focusTriggerAfterClose:j},a.createElement("div",{className:"".concat(R,"-body-wrapper")},a.createElement("div",{className:"".concat(R,"-body")},n,void 0===e.title?null:a.createElement("span",{className:"".concat(R,"-title")},e.title),a.createElement("div",{className:"".concat(R,"-content")},e.content)),a.createElement("div",{className:"".concat(R,"-btns")},q,a.createElement(P,{type:M,actionFn:o,close:c,autoFocus:"ok"===D,buttonProps:v,prefixCls:"".concat(E,"-btn")},C)))))},F=[],confirm_rest=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t},I="";function confirm_confirm(e){var n=document.createDocumentFragment(),t=(0,c.Z)((0,c.Z)({},e),{close:close,visible:!0});function destroy(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var c=o.some((function(e){return e&&e.triggerCancel}));e.onCancel&&c&&e.onCancel.apply(e,o);for(var a=0;a<F.length;a++){var i=F[a];if(i===close){F.splice(a,1);break}}(0,x.v)(n)}function render(e){var t=e.okText,o=e.cancelText,r=e.prefixCls,i=confirm_rest(e,["okText","cancelText","prefixCls"]);setTimeout((function(){var e=(0,f.A)(),l=(0,O.w6)(),s=l.getPrefixCls,u=l.getIconPrefixCls,m=s(void 0,function getRootPrefixCls(){return I}()),d=r||"".concat(m,"-modal"),p=u();(0,x.s)(a.createElement(A,(0,c.Z)({},i,{prefixCls:d,rootPrefixCls:m,iconPrefixCls:p,okText:t||(i.okCancel?e.okText:e.justOkText),cancelText:o||e.cancelText})),n)}))}function close(){for(var n=this,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];render(t=(0,c.Z)((0,c.Z)({},t),{visible:!1,afterClose:function afterClose(){"function"===typeof e.afterClose&&e.afterClose(),destroy.apply(n,r)}}))}return render(t),F.push(close),{destroy:close,update:function update(e){render(t="function"===typeof e?e(t):(0,c.Z)((0,c.Z)({},t),e))}}}function withWarn(e){return(0,c.Z)((0,c.Z)({icon:a.createElement(E.Z,null),okCancel:!1},e),{type:"warning"})}function withInfo(e){return(0,c.Z)((0,c.Z)({icon:a.createElement(Z.Z,null),okCancel:!1},e),{type:"info"})}function withSuccess(e){return(0,c.Z)((0,c.Z)({icon:a.createElement(b.Z,null),okCancel:!1},e),{type:"success"})}function withError(e){return(0,c.Z)((0,c.Z)({icon:a.createElement(h.Z,null),okCancel:!1},e),{type:"error"})}function withConfirm(e){return(0,c.Z)((0,c.Z)({icon:a.createElement(E.Z,null),okCancel:!0},e),{type:"confirm"})}var S=t(93433);var j=t(70454),M=function HookModal(e,n){var t=e.afterClose,o=e.config,r=a.useState(!0),i=(0,w.Z)(r,2),l=i[0],s=i[1],u=a.useState(o),f=(0,w.Z)(u,2),m=f[0],d=f[1],v=a.useContext(C.E_),g=v.direction,y=v.getPrefixCls,k=y("modal"),x=y(),Z=function close(){s(!1);for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=n.some((function(e){return e&&e.triggerCancel}));m.onCancel&&o&&m.onCancel()};return a.useImperativeHandle(n,(function(){return{destroy:Z,update:function update(e){d((function(n){return(0,c.Z)((0,c.Z)({},n),e)}))}}})),a.createElement(p.Z,{componentName:"Modal",defaultLocale:j.Z.Modal},(function(e){return a.createElement(A,(0,c.Z)({prefixCls:k,rootPrefixCls:x},m,{close:Z,visible:l,afterClose:t,okText:m.okText||(m.okCancel?e.okText:e.justOkText),direction:g,cancelText:m.cancelText||e.cancelText}))}))},R=a.forwardRef(M),L=0,_=a.memo(a.forwardRef((function(e,n){var t=function usePatchElement(){var e=a.useState([]),n=(0,w.Z)(e,2),t=n[0],o=n[1];return[t,a.useCallback((function(e){return o((function(n){return[].concat((0,S.Z)(n),[e])})),function(){o((function(n){return n.filter((function(n){return n!==e}))}))}}),[])]}(),o=(0,w.Z)(t,2),r=o[0],c=o[1];return a.useImperativeHandle(n,(function(){return{patchElement:c}}),[]),a.createElement(a.Fragment,null,r)})));function modalWarn(e){return confirm_confirm(withWarn(e))}var B=k;B.useModal=function useModal(){var e=a.useRef(null),n=a.useState([]),t=(0,w.Z)(n,2),o=t[0],r=t[1];a.useEffect((function(){o.length&&((0,S.Z)(o).forEach((function(e){e()})),r([]))}),[o]);var c=a.useCallback((function(n){return function hookConfirm(t){var o;L+=1;var c,i=a.createRef(),l=a.createElement(R,{key:"modal-".concat(L),config:n(t),ref:i,afterClose:function afterClose(){c()}});return c=null===(o=e.current)||void 0===o?void 0:o.patchElement(l),{destroy:function destroy(){function destroyAction(){var e;null===(e=i.current)||void 0===e||e.destroy()}i.current?destroyAction():r((function(e){return[].concat((0,S.Z)(e),[destroyAction])}))},update:function update(e){function updateAction(){var n;null===(n=i.current)||void 0===n||n.update(e)}i.current?updateAction():r((function(e){return[].concat((0,S.Z)(e),[updateAction])}))}}}}),[]);return[a.useMemo((function(){return{info:c(withInfo),success:c(withSuccess),error:c(withError),warning:c(withWarn),confirm:c(withConfirm)}}),[]),a.createElement(_,{ref:e})]},B.info=function infoFn(e){return confirm_confirm(withInfo(e))},B.success=function successFn(e){return confirm_confirm(withSuccess(e))},B.error=function errorFn(e){return confirm_confirm(withError(e))},B.warning=modalWarn,B.warn=modalWarn,B.confirm=function confirmFn(e){return confirm_confirm(withConfirm(e))},B.destroyAll=function destroyAllFn(){for(;F.length;){var e=F.pop();e&&e()}},B.config=function modalGlobalConfig(e){var n=e.rootPrefixCls;(0,N.Z)(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),I=n};var W=B}}]);
//# sourceMappingURL=561.e8f7fb69.chunk.js.map