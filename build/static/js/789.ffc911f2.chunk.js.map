{"version":3,"file":"static/js/789.ffc911f2.chunk.js","mappings":"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","sources":["HOC/ModalHoc/ModalHoc.jsx","Layouts/Admin/TabActionsAdmin/TabActionAdmin.styles.jsx","Layouts/Admin/TabActionsAdmin/TabActionsAdmin.jsx","Shared/Field/TicketField/AddTicketField.jsx","Shared/Field/TicketField/EditTicketField.jsx","Shared/Field/TicketField/index.jsx","Shared/Field/TicketField/TableColumnTicketsField.jsx","Pages/AdminPage/TicketManagerPage/TicketManagerAdd/TicketManagerAdd.jsx","Pages/AdminPage/TicketManagerPage/TicketManagerEdit/TicketManagerEdit.jsx","Pages/AdminPage/TicketManagerPage/TicketManagerPage.jsx","Redux/Selector/QuanLyVeSelector.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Modal as ModalAnt } from 'antd';\r\n\r\nfunction ModalHoc(WrappedComponent) {\r\n  return class extends React.Component {\r\n    state = {\r\n      isModalVisible: false,\r\n      contentModal: '',\r\n      propsModal: {},\r\n      propsContentModal: {},\r\n    };\r\n\r\n    showModal = () => {\r\n      this.setState({ isModalVisible: true });\r\n    };\r\n\r\n    handleOk = () => {\r\n      this.setState({ isModalVisible: false });\r\n    };\r\n\r\n    handleCancel = () => {\r\n      this.setState({ isModalVisible: false });\r\n    };\r\n\r\n    handleContentModal = (contentModal) => {\r\n      this.setState({ contentModal });\r\n    };\r\n\r\n    handlePropsContentModal = (propsContentModal) => {\r\n      this.setState({ propsContentModal });\r\n    };\r\n\r\n    handlePropsModal = (propsModal) => {\r\n      this.setState({ propsModal });\r\n    };\r\n\r\n    render() {\r\n      const propsWrap = this.props;\r\n      const propsModal = this.state.propsModal;\r\n      const propsContentModal = this.state.propsContentModal;\r\n      const ContentModal = this.state.contentModal;\r\n      return (\r\n        <>\r\n          <WrappedComponent\r\n            showModal={this.showModal}\r\n            handlePropsModal={this.handlePropsModal}\r\n            handleContentModal={this.handleContentModal}\r\n            handlePropsContentModal={this.handlePropsContentModal}\r\n            {...propsWrap}\r\n          />\r\n          <ModalAnt\r\n            visible={this.state.isModalVisible}\r\n            onOk={this.handleOk}\r\n            onCancel={this.handleCancel}\r\n            footer={null}\r\n            destroyOnClose\r\n            {...propsModal}\r\n          >\r\n            <ContentModal handleOk={this.handleOk} {...propsContentModal} />\r\n          </ModalAnt>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n}\r\n\r\nexport default ModalHoc;\r\n","import tw, { styled } from 'twin.macro';\r\n\r\nconst Container = styled.div`\r\n  ${tw`dark:bg-gray-700 flex-col flex justify-start my-2`};\r\n  ${tw`sm:text-sm sm:py-1 sm:px-10`};\r\n  ${tw`md:text-base md:py-1 md:px-12 md:flex md:flex-row`};\r\n  ${tw`lg:text-lg lg:py-2 lg:px-14`};\r\n  ${tw`xl:text-xl xl:py-3 xl:px-16`};\r\n\r\n  & button {\r\n    ${tw`my-1 flex items-center justify-center  md:w-auto md:m-0 `}\r\n  }\r\n\r\n  & button.ant-btn[disabled] {\r\n    ${tw`  background-color[rgba(209, 213, 219) !important] `};\r\n  }\r\n  \r\n  & button:nth-child(2),\r\n  & button.ant-btn[disabled] {\r\n    ${tw`w-full margin-right[auto !important] md:margin-right[ 16px !important] md:w-auto`};\r\n  }\r\n`;\r\n\r\nexport const TabActionAdminCSS = {\r\n  Container,\r\n};\r\n","import { PlusOutlined } from '@ant-design/icons';\r\nimport { ButtonCSS } from '@Components/Button';\r\nimport React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { TabActionAdminCSS } from './TabActionAdmin.styles';\r\n\r\nfunction TabActionsAdmin(props) {\r\n  const {\r\n    selectedRowKeys,\r\n    contentButtonAction,\r\n    setSelectedRowKeys,\r\n    handleDeleteAllThunk,\r\n    handleRefreshDataThunk,\r\n    showModal,\r\n  } = props;\r\n\r\n  const { Add, Primary } = ButtonCSS;\r\n  const hasSelected = !selectedRowKeys.length;\r\n  const { Container } = TabActionAdminCSS;\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDeleteAll = async () => {\r\n    dispatch(handleDeleteAllThunk(selectedRowKeys));\r\n    setSelectedRowKeys([]);\r\n  };\r\n\r\n  const handleRefreshData = () => {\r\n    Promise.all(handleRefreshDataThunk.map((thunk) => dispatch(thunk())));\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Add\r\n        onClick={() => {\r\n          showModal();\r\n        }}\r\n      >\r\n        {contentButtonAction} <PlusOutlined />\r\n      </Add>\r\n      <Primary disabled={hasSelected} onClick={handleDeleteAll} className='mr-4'>\r\n        Delete All\r\n      </Primary>\r\n      <Primary onClick={handleRefreshData}>Refresh Data</Primary>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default React.memo(TabActionsAdmin);\r\n","export const addTicketField = {\r\n  checkIn: '',\r\n  checkOut: '',\r\n  userId: '',\r\n  roomId: '',\r\n};\r\n","import { addTicketField } from './AddTicketField';\r\n\r\nexport const editTicketField = {\r\n  ...addTicketField,\r\n  _id: '',\r\n};\r\n","import {addTicketField} from './AddTicketField';\r\nimport {editTicketField} from './EditTicketField';\r\nimport {tableColumnsTicketField} from './TableColumnTicketsField';\r\n\r\nexport const ticketField = {\r\n  addTicketField,\r\n  editTicketField,\r\n  tableColumnsTicketField,\r\n};\r\n","import moment from 'moment';\r\nimport { sortValue } from '@Utils/Common';\r\n\r\nexport const tableColumnsTicketField = [\r\n  {\r\n    title: 'Mã Vé',\r\n    dataIndex: 'stt',\r\n    key: 'stt',\r\n    render: (text, record, index) => index + 1,\r\n    onCell: (record) => {\r\n      return {\r\n        'data-label': 'Mã Vé',\r\n      };\r\n    },\r\n    onHeaderCell: (record) => {\r\n      return {\r\n        'data-label': 'Mã Vé',\r\n      };\r\n    },\r\n  },\r\n  {\r\n    title: 'Người đặt',\r\n    dataIndex: ['userId', 'name'],\r\n    key: 'name',\r\n    sorter: (valueA, valueB) => sortValue(valueA?.userId?.name, valueB?.userId?.name, 'userIdName'),\r\n    onCell: (record) => {\r\n      return {\r\n        'data-label': 'Người đặt',\r\n      };\r\n    },\r\n    onHeaderCell: (record) => {\r\n      return {\r\n        'data-label': 'Người đặt',\r\n      };\r\n    },\r\n  },\r\n  {\r\n    title: 'Tổng số vé',\r\n    dataIndex: ['userId', 'tickets'],\r\n    key: 'tickets',\r\n    render: (text, record, index) => {\r\n      if (!record.userId?.tickets || !record.userId.tickets.length) {\r\n        return 0;\r\n      }\r\n      return record.userId.tickets.length;\r\n    },\r\n    sorter: (valueA, valueB) =>\r\n      sortValue(valueA?.userId?.tickets, valueB?.userId?.tickets, 'userIdTickets'),\r\n\r\n    onCell: (record) => {\r\n      return {\r\n        'data-label': 'Content',\r\n      };\r\n    },\r\n    onHeaderCell: (record) => {\r\n      return {\r\n        'data-label': 'Content',\r\n      };\r\n    },\r\n  },\r\n  {\r\n    title: 'Tên phòng',\r\n    dataIndex: ['roomId', 'name'],\r\n    key: 'room',\r\n    sorter: (valueA, valueB) => sortValue(valueA?.roomId?.name, valueB?.roomId?.name, 'roomIdName'),\r\n    onCell: (record) => {\r\n      return {\r\n        'data-label': 'Ngày tạo vé',\r\n      };\r\n    },\r\n    onHeaderCell: (record) => {\r\n      return {\r\n        'data-label': 'Ngày tạo vé',\r\n      };\r\n    },\r\n  },\r\n  {\r\n    title: 'CheckIn',\r\n    dataIndex: 'checkIn',\r\n    key: 'checkIn',\r\n    render: (text, record, index) => moment(record.checkIn).format('DD/MM/YYYY'),\r\n    onCell: (record) => {\r\n      return {\r\n        'data-label': 'CheckIn',\r\n      };\r\n    },\r\n    sorter: (valueA, valueB) => sortValue(valueA?.checkIn, valueB?.checkIn, 'checkIn'),\r\n  },\r\n  {\r\n    title: 'CheckOut',\r\n    dataIndex: 'checkOut',\r\n    key: 'checkOut',\r\n    render: (text, record, index) => moment(record.checkOut).format('DD/MM/YYYY'),\r\n    onCell: (record) => {\r\n      return {\r\n        'data-label': 'CheckOut',\r\n      };\r\n    },\r\n    onHeaderCell: (record) => {\r\n      return {\r\n        'data-label': 'CheckOut',\r\n      };\r\n    },\r\n    sorter: (valueA, valueB) => sortValue(valueA?.checkOut, valueB?.checkOut, 'checkOut'),\r\n  },\r\n  {\r\n    title: 'Thao tác',\r\n    dataIndex: 'action',\r\n    key: 'action',\r\n    onCell: (record) => {\r\n      return {\r\n        'data-label': 'Thao tác',\r\n      };\r\n    },\r\n    onHeaderCell: (record) => {\r\n      return {\r\n        'data-label': 'Thao tác',\r\n      };\r\n    },\r\n  },\r\n];\r\n","import React from 'react'\r\n\r\nfunction TicketManagerAdd() {\r\n  return (\r\n    <div>TicketManagerAdd</div>\r\n  )\r\n}\r\n\r\nexport default TicketManagerAdd","import React from 'react';\r\n\r\nfunction TicketManagerEdit(props) {\r\n  return <div>TicketManagerEdit</div>;\r\n}\r\n\r\nexport default TicketManagerEdit;\r\n","import { TableCSS } from '@Components';\r\nimport ModalHoc from '@HOC/ModalHoc';\r\nimport TabActionsAdmin from '@Layouts/Admin/TabActionsAdmin';\r\nimport { quanLyVeSelector } from '@Redux/Selector/QuanLyVeSelector';\r\nimport { quanLyVeThunk } from '@Redux/Thunk/QuanLyVeThunk';\r\nimport { nanoid } from '@reduxjs/toolkit';\r\nimport { ticketField } from '@Shared/Field/TicketField';\r\nimport { handleDataTable } from '@Utils/Common';\r\nimport _ from 'lodash';\r\nimport React, { useCallback, useLayoutEffect, useMemo, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport TicketManagerAdd from './TicketManagerAdd';\r\nimport TicketManagerEdit from './TicketManagerEdit';\r\n\r\nfunction TicketManagerPage(props) {\r\n  const dispatch = useDispatch();\r\n  const { selectDanhSachVeFilter } = quanLyVeSelector;\r\n  const { getDanhSachVeAsync, xoaVeAsync, xoaNhieuVeAsync } = quanLyVeThunk;\r\n  const { tableColumnsTicketField } = ticketField;\r\n  const idTable = useMemo(() => nanoid(), []);\r\n  const danhSachVe = useSelector(selectDanhSachVeFilter, _.isEqual);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const { Table } = TableCSS;\r\n  const { showModal, handlePropsContentModal, handleContentModal } = props;\r\n  const handleRefreshDataThunk = useMemo(\r\n    () => [getDanhSachVeAsync],\r\n    [getDanhSachVeAsync]\r\n  );\r\n    \r\n\r\n  useLayoutEffect(() => {\r\n    dispatch(getDanhSachVeAsync());\r\n  }, [dispatch, getDanhSachVeAsync]);\r\n\r\n  const handleDeleteTicket = (idVe) => {\r\n    dispatch(xoaVeAsync(idVe));\r\n  };\r\n\r\n  const handleUpdateModal = (idVe) => {\r\n    handlePropsContentModal({ danhSachVe, idVe });\r\n    handleContentModal(TicketManagerEdit);\r\n    showModal();\r\n  };\r\n\r\n  const renderDataTable = () => {\r\n    const propsFieldAction = {\r\n      handleGetProfileItem: null,\r\n      handleUpdateItem: handleUpdateModal,\r\n      handleDeleteItem: handleDeleteTicket,\r\n    };\r\n    return handleDataTable(danhSachVe, propsFieldAction);\r\n  };\r\n\r\n  const onSelectChange = (selectedRowKeys) => {\r\n    setSelectedRowKeys(selectedRowKeys);\r\n  };\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: onSelectChange,\r\n  };\r\n\r\n  const handleShowModal = useCallback(() => {\r\n    handleContentModal(TicketManagerAdd);\r\n    showModal();\r\n  }, [handleContentModal, showModal]);\r\n\r\n  return (\r\n    <>\r\n      <TabActionsAdmin\r\n        setSelectedRowKeys={setSelectedRowKeys}\r\n        handleDeleteAllThunk={xoaNhieuVeAsync}\r\n        handleRefreshDataThunk={handleRefreshDataThunk}\r\n        selectedRowKeys={selectedRowKeys}\r\n        contentButtonAction='Thêm Vé'\r\n        showModal={handleShowModal}\r\n      />\r\n      <Table\r\n        columns={tableColumnsTicketField}\r\n        dataSource={renderDataTable()}\r\n        rowKey={(record) => record._id}\r\n        key={idTable}\r\n        rowSelection={rowSelection}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ModalHoc(TicketManagerPage);\r\n","import { createSelector } from '@reduxjs/toolkit';\r\nimport { filterSearchValue } from '@Utils/Common';\r\n\r\nconst selectDanhSachVe = (state) => state.QuanLyVeReducer.danhSachVe;\r\n\r\nconst selectSearchValue = (state) => state.SearchReducer.searchValue;\r\n\r\nconst selectDanhSachVeTheoNguoiDung = (state) => state.QuanLyVeReducer.danhSachVeTheoNguoiDung;\r\n\r\nconst selectDanhSachVeFilter = createSelector(\r\n  selectDanhSachVe,\r\n  selectSearchValue,\r\n  (danhSachVe, searchValue) => {\r\n    if (!searchValue.length) return danhSachVe;\r\n    const keyTypeFilterTicket = process.env.REACT_APP_KEY_FILTER_TICKET_LIST;\r\n    const searchValueFormat = searchValue.trim().toLowerCase();\r\n    const cloneDanhSachVe = [...danhSachVe];\r\n    return filterSearchValue(searchValueFormat, cloneDanhSachVe, keyTypeFilterTicket);\r\n  }\r\n);\r\n\r\nexport const quanLyVeSelector = {\r\n  selectDanhSachVe,\r\n  selectDanhSachVeFilter,\r\n  selectDanhSachVeTheoNguoiDung,\r\n};\r\n"],"names":["ModalHoc","WrappedComponent","state","isModalVisible","contentModal","propsModal","propsContentModal","showModal","setState","handleOk","handleCancel","handleContentModal","handlePropsContentModal","handlePropsModal","render","propsWrap","this","props","ContentModal","visible","onOk","onCancel","footer","destroyOnClose","React","TabActionAdminCSS","Container","styled","TabActionsAdmin","selectedRowKeys","contentButtonAction","setSelectedRowKeys","handleDeleteAllThunk","handleRefreshDataThunk","Add","ButtonCSS","Primary","hasSelected","length","dispatch","useDispatch","handleDeleteAll","onClick","PlusOutlined","disabled","className","handleRefreshData","Promise","all","map","thunk","addTicketField","checkIn","checkOut","userId","roomId","editTicketField","_id","ticketField","tableColumnsTicketField","title","dataIndex","key","text","record","index","onCell","onHeaderCell","sorter","valueA","valueB","sortValue","name","tickets","moment","format","TicketManagerAdd","TicketManagerEdit","TicketManagerPage","selectDanhSachVeFilter","quanLyVeSelector","getDanhSachVeAsync","quanLyVeThunk","xoaVeAsync","xoaNhieuVeAsync","idTable","useMemo","nanoid","danhSachVe","useSelector","_","useState","Table","TableCSS","useLayoutEffect","handleDeleteTicket","idVe","handleUpdateModal","rowSelection","onChange","onSelectChange","handleShowModal","useCallback","columns","dataSource","renderDataTable","propsFieldAction","handleGetProfileItem","handleUpdateItem","handleDeleteItem","handleDataTable","rowKey","selectDanhSachVe","QuanLyVeReducer","createSelector","selectSearchValue","SearchReducer","searchValue","searchValueFormat","trim","toLowerCase","cloneDanhSachVe","filterSearchValue","process","selectDanhSachVeTheoNguoiDung","danhSachVeTheoNguoiDung"],"sourceRoot":""}